version 4.1.01

Added --approxSaturation.  Like --approxCS, except it's for color
saturation.

Clean up of devas-png.c, particularly strange behavior of
png_image_begin_read_from_stdio for 1 channel PNG input images.

Updated Mac and Windows binaries.

version 4.1.00

Added an --approxCS option to devas-filter and devas-visibility to
approximate an unknown contrast sensitivity from a known acuity.

Request to filter images at close to normal acuity are now rejected.
--normal preset has been removed.

Added an --approxSaturation option to devas-filter and devas-visibility
to approximate an unknown color sensitivity from a known acuity.  This
is a hack that only affects the simulated views, not the visibility
analysis.

Added line number to ChungLeggeCSF error messages.

Added a conversions spreadsheet for developers.

Fixed a problem where low luminance indicator image was sometimes not
output even when requested.

Fixed fatal error if DeVAS_read_radiance_header is called with a NULL
pointer.

Added to doc subdirectory, moved man pages to that subdirectory, updated
several man pages and added a brief README on how to create geometry
files for use by devas-visibility.

INSTALLATION instructions updated to acknowledge Homebrew.

Copyright date updated in devas-license.h.

version 4.0.00

Renamed files and code objects from "DIVA" to "DeVAS" to avoid conflicts
with DIVA for RHINO.

Added devas-add-res-to-ASCII to help with workflow in generating
geometry files on Windows systems.

version 3.3.04

Added comment to deva-margin.c explaining how the margin pixels were
computed.

version 3.3.03

Print version number on -v or --v.  Previously, needed  -version or
--version.

version 3.3.02

Issue --legalblind prompt when executing deva-visibility with no
arguments.

version 3.3.01

Better error reporting in read-geometry for Radiance .txt file with no
empty line terminating header.

version 3.3.00

Most fatal errors now print out the line number and file where the error
occurred.

Added option in deva-visibility to check for false positive luminance
boundary detections.

Added feature in deva-visibility (deva-commandline) and
deva-compare-boundaries to check for very dark regions in original
image.  This is motivated by a lack of knowledge about the effects of
illumination levels below about 1 cd/m^2 on low vision acuity and
contrast sensitivity.

FFT-based Gaussian blur routine added (deva-gblur-fft). This is used by
the code that checks for very dark regions.

Added routines in deva-margin for DEVA_float image object, providing
support needed by code that finds very dark regions in original image.

Added code in visualize-hazards for displaying very dark regions and
false positive errors in hazard visualization.

Added code supporting region-of-interest (ROI) processing in
determination of Visibility Hazard Scores in deva-visibility.

Changed contrast sensitivity of presets based on personal communication
(G.E. Legge & Y-Z Xiong, Feb. 19, 2019).

Added a "legalblind" preset to the other low vision categories in
deva-filter and deva-visibility.  This specifies the U.S.
"legal blindness" acuity level along with appropriate contrast
sensitivity and color sensitivity values.  Note that this specifies a
level of visual impairment right at the legal blindness cutoff point.
It is not some sort of test of legal blindness.

Added a "normal" preset to the other low vision categories in
deva-filter and deva-visibility.  This is treated as a silent option,
not included in the prompt or man page, because the filter has not been
tested for this condition.

Cleaned up where new image objects were allocated in deva-visibility.c
and related routines.

Minor comment cleanup.

Cleanups and additions to man pages.

Various changes to CMakeLists.txt

Ran this file through a spell checker.

version 3.2.04

luminance-boundaries now issues a warning to avoid use with input images
generated by deva-filter.  The problem may be due to quantization noise
in the low precision Radiance format input image resulting in a large
number of micro edges that in turn confuse the auto thresholding
routine.

version 3.2.03

Really fix deva-visibility man page.

version 3.2.02

Minor fix to deva-visibility man page.

version 3.2.01

Added build process for MacOS and standardized directory layout for
Windows and MacOS builds.

Removed extraneous debugging command from deva-margin.c

version 3.2.00

Added two new programs: luminance-boundaries, geometry-boundaries.

In deva-filter.c (deva-filter, deva-visibility): Changed smoothing
algorithm to better deal with artifacts at the boundaries of the
smoothing windows.  Added optional debugging code to output individual
contrast bands.

In deva-margin.c:  Added compile-time option to base feathering on
average luminance over full image rather than just over the boundary
pixels.  Added compile-time option to base margin pixels on reflection
of image around the boundary, not just a fill of boundary pixels.

In dilate.c, added dt_euclid_sq_2 which used a pre-allocated output
image.

In deva-commandline.c (deva-filter, deva-visibility): Cleaned up command
summaries.  Allowed specifying smoothing_type with presets.

In ChungLeggeCSF.h: Cleanup of unused ChungLeggeCSF_PEAK_FREQUENCY
defines.

Man pages for new programs, minor updates to existing man pages.

version 3.1.02

In deva-commandline.c (deva-visibility): Added measurement type options
to usage message.

version 3.1.01

deva-compare-boundaries.c: New program to create a visualization image
comparing a standard set of boundary elements (e.g., geometry) to a
different set of boundary elements (e.g., luminance edges).  Annotation
of output image, which requires Cairo library, is includable with a
compile-time switch.

deva-add-text.c: New routine to add annotation text to an image.
Requires a switch in CMakeLists.txt to link against Cairo library.

In deva-commandline.c (deva-filter, deva-visibility): Switch to basing
auto-clipping on multiple of median luminance, which is more robust than
the previous multiple of average luminance.  Added a compile-time option
for basing margin on only smaller dimension of input image.

In deva-commandline.c (deva-visibility): Added interface for more
measurement types.

In deva-canny.c:  Switch to basing luminance boundaries on log
luminance, not luminance itself.  This better approximates human
perception of contrast boundaries.  Switched to basing auto-thresholding
on local maxima of directional gradient, not all directional gradients.

In visualize-hazards.c/visualize-hazards.h: Cleaned up calling sequence.
Added in more measurement types.
 
In read-geometry.c, fixed possibly uninitialized DEVA_null_view.

Additional commenting.

version 3.0.01

Modified radiance-header.c to deal with indented VIEW records produced
by pcomb.  (pcomb has been modified in development version of Radiance
to output one non-indented VIEW record, alleviating the need for this
change if a recent enough version of Radiance is used to generate the
file.)

Cleaned up deva-gblur.c.  There should be no change in functionality.

Better error reporting in read-geometry routines.

Removed one extraneous routine from deva-margin.c

More extensive comments throughout.

Minor updates to man pages.

version 3.0.00

Added deva-visibility.  This extends the functionality of deva-filter to
provide estimates of likely low-vision hazards, defined as geometric
structures that may be a mobility hazard but are not co-located with
detectable visual contrast.  deva-visibility shares much of the
deva-filter code base.

Added deva-visualize-geometry, a utility program to display geometry
files used by deva-visibility.

Added make-coordinates-file, a support routine used to create one of the
input files needed by deva-visibility.

Added a build for Windows (see INSTALLATION file).  This requires a
local build of the fftw3f, libpng, and zlib libraries.  Static linking
is used, so no installer or other support libraries are required.

Cleaned up function names for _to_radfile and _from_radfile routines.

Cleaned up define names.

Removed one extraneous include from dilate.h.

Tidy up deva-margin.h, deva-utils.h

Updated Radiance file I/O routines to version 5.1.0.

Updated JOSA A citation.

Dropped KLT filter support.

version 2.8.00

Redefined presets such that acuity values corresponded more closely to
Colenbrander, A. (2003); Aspects of vision loss-visual functions and
functional vision; Visual Impairment Research, 5(3), 115-136.  Added
--presets flag to print actual values used in the filtering.

Misc. stylistic cleanup that should not change functionality.

Slightly more aggressive smoothing (larger maximum distance).

Added option to add margin around outside of input image to reduce FFT
wraparound artifacts.

Removed a redundant function prototype in deva-utils.h

version 2.7.02

Fix .gitignore in build directory

version 2.7.01

Remove name clash in RadianceColorFormat.

version 2.7.00

Add Radiance-style exposure value to in-memory DEVA_image objects. This
supports creating output image files with the same exposure setting as
the input image files, which in turn facilitates tone mapping the output
files for display purposes.

version 2.6.00

DEVA_USE_FFTW3_ALLOCATORS flag now passed through CMAKE command.

A bit more argument sanity checking.

Fixed misc. typos in comments.

Misc. renaming of support functions.

Added (and used!) a setvalue function for DEVA_image objects.
Added (and used!) a scalar multiplication function for DEVA_image objects.

Misc. changes to formatting of debugging output.

Modified bounds checking of in-memory DEVA_image objects to print source
file name and line number if an error is detected.

Added a generic samesize check function for DEVA_image objects.

Exposed dt_euclid_sq for potential use by other functions.

Removed left over SVN info string.

Cleaned up reading of RADIANCE file headers, with improved management of
the global variables necessitated by the way the getheader ( ) function
works.

Reading of RADIANCE files now processes EXPOSURE records.

Updated included RADIANCE source code to version 5.0.a.12, which has
fixes for Windows build.

version 2.5.03
